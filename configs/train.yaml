# Most basic config for training a model

# Set the model to use
defaults:
  - model: baseline
  - _self_

# General info
username: 'cizinsky' # your izar username
seed: 42
debug: False # to avoid logging into wandb
output_dir: /scratch/izar/${username}/netml/outputs

# w&b 
logger:
  project: seizure-prediction
  tags: [dev, baseline] # something we can filter by

# Data 
data:
  subset: -1 # -1 = disable
  trn_frac: 0.9
  batch_size: 5000
  num_workers: 18
  root: /scratch/izar/${username}/netml/data
  prefetch: True 
  signal_transform: fft_filtering

# Optimisation
optim:
  lr: 5e-4
  weight_decay: 0.0
  warmup_epochs: 50

  # Scheduler - reduce on plateau
  plateau_patience: 10 # how many val/f1 to wait before reducing
  plateau_factor: 0.5 # reduce by this factor
  min_lr: 1e-6  # minimum learning rate

# PL trainer 
trainer:
  max_epochs: 1000
  accelerator: gpu
  devices: 1
  checkpoint_every_n_epochs: 250
  check_val_every_n_epoch: 25
  grad_clip: 1
  precision: 32
  find_lr: False


# Just to let Hydra know where to save the config file
hydra:
  run:
    dir: ${output_dir}/${now:%Y-%m-%d}/${now:%H-%M-%S}
  job:
    chdir: False